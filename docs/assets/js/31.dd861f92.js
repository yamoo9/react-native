(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{183:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"컴포넌트-통신"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#컴포넌트-통신","aria-hidden":"true"}},[t._v("#")]),t._v(" 컴포넌트 통신")]),t._v(" "),a("p",[t._v("React 클래스 컴포넌트는 컴포넌트 내에서만 접근 가능한 상태("),a("code",[t._v("state")]),t._v(")를 가질 수 있어 관리가 용이합니다.\n다만 컴포넌트가 중첩된 관계가 형성되면 컴포넌트마다 개별적으로 상태를 관리하면 처리가 까다로워 집니다.\n보다 효과적으로 상태를 관리하기 위해서는 부모 컴포넌트에서 상태를 관리하고 자식 컴포넌트는 부모 컴포넌트와\n통신하여 처리하도록 구성해야 합니다.")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("공식 문서는 해당 내용을 "),a("a",{attrs:{href:"https://ko.reactjs.org/docs/lifting-state-up.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("상태 끌어올리기(Lifting State Up)"),a("OutboundLink")],1),t._v("로 기술하고 있습니다. 필자는 '상태 끌어올리기'라는 표현이 모호하다고 판단하여 해당 섹션 이름을 '컴포넌트(부모 ➪ 자식) 간 사이의 통신'으로 바꿔 기술합니다.")])]),t._v(" "),a("h2",{attrs:{id:"props-⇌-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#props-⇌-callback","aria-hidden":"true"}},[t._v("#")]),t._v(" props ⇌ callback")]),t._v(" "),a("p",[a("router-link",{attrs:{to:"/guidebook/component.html#속성-전달"}},[t._v("props")]),t._v("를 사용해 부모 컴포넌트는 자식 컴포넌트에 속성을 전달할 수 있습니다.\n바꿔 말하면 자식 컴포넌트는 부모 컴포넌트로 부터 속성을 전달 받을 수 있습니다.\n컴포넌트의 메서드 또한 속성이므로 props로 전달할 수 있습니다.\n예를 들어 부모 컴포넌트의 메서드를\n자식 컴포넌트에 전달하면 자식 컴포넌트는 전달 받은 메서드를 실행(callback)해 부모 컴포넌트의 상태를 변경할 수 있습니다.")],1),t._v(" "),a("base-img",{staticStyle:{"max-width":"300px"},attrs:{src:"props-callback.jpg"}}),t._v(" "),a("h2",{attrs:{id:"부모-➡︎-자식-메서드-전달"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#부모-➡︎-자식-메서드-전달","aria-hidden":"true"}},[t._v("#")]),t._v(" 부모 ➡︎ 자식 (메서드 전달)")]),t._v(" "),a("p",[t._v("자식 컴포넌트에 전달된("),a("code",[t._v("1")]),t._v(") 부모 컴포넌트 메서드("),a("code",[t._v("2")]),t._v(")는 "),a("strong",[t._v("자식 컴포넌트에 의해 실행되면\n부모 컴포넌트의 상태를 업데이트("),a("code",[t._v("3")]),t._v(")")]),t._v(" 합니다.")]),t._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ParentComponent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'자식 컴포넌트의 요청을 대기 중입니다.'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. 자식 컴포넌트에 의해 실행되는 부모 컴포넌트의 메서드")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("processRequested")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("message")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. 부모 컴포넌트의 상태 업데이트")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" message "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("className")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        // 1. 자식 컴포넌트에 props.receivedMethod로 메서드 전달\n        ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChildComponent")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("receivedMethod")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("processRequested"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("h2",{attrs:{id:"부모-⬅︎-자식-메서드-실행"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#부모-⬅︎-자식-메서드-실행","aria-hidden":"true"}},[t._v("#")]),t._v(" 부모 ⬅︎ 자식 (메서드 실행)")]),t._v(" "),a("p",[t._v("자식 컴포넌트는 상태("),a("code",[t._v("state")]),t._v(")를 가질 필요가 없으므로 '함수형'으로 작성합니다.\n눈여겨 볼 부분은 부모 컴포넌트가 전달한 속성("),a("code",[t._v("props.onReceivedMethod")]),t._v(")이 메서드라는 점입니다.\n사용자에 의해 이벤트가 발생하면 전달 받은 부모 컴포넌트의 메서드를 실행합니다.")]),t._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ChildComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 부모 컴포넌트의 메서드를 전달 받음")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" changeStateOfParent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("receivedMethod\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button\n      type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"button"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 전달 받은 부모 컴포넌트의 메서드를 실행")]),t._v("\n      onClick"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("changeStateOfParent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'전달 받은 메서드 잘 사용했습니다!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      부모 컴포넌트의 상태를 바꿔봅시다"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("h2",{attrs:{id:"props-⇌-callback-문제"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#props-⇌-callback-문제","aria-hidden":"true"}},[t._v("#")]),t._v(" props ⇌ callback 문제")]),t._v(" "),a("p",[t._v("불행히도 props, callback을 활용한 컴포넌트 통신 방법은 간단한 시나리오를 벗어나면 현실적이지 않습니다.\n애플리케이션은 많은 컴포넌트가 상태를 가지고 있거나, 다른 컴포넌트와 공유(동기화)해 상호 작용 되어야 합니다.\n하지만 애플리케이션의 상태를 컴포넌트가 개별적으로 소유하다 보니 관리의 어려움이 생기는 겁니다. 자신의 상태를\n하위 컴포넌트에 전송 → 전송 → 전송, 다시 하위 컴포넌트에서 상위 컴포넌트로 콜백 ← 콜백 ← 콜백 하니\n복잡하고 어려워집니다. 다시 말해 컴포넌트 간 관계가 복잡해지면 props, callback은 관리가 매우 어려워집니다.")]),t._v(" "),a("base-img",{staticStyle:{"max-width":"400px","margin-left":"0"},attrs:{src:"prop-callback2.jpg"}}),t._v(" "),a("h2",{attrs:{id:"상태-관리-시스템"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#상태-관리-시스템","aria-hidden":"true"}},[t._v("#")]),t._v(" 상태 관리 시스템")]),t._v(" "),a("p",[t._v("상태 관리 시스템은 상태 관리의 복잡한 문제를 해결하기 위해 고안되었습니다. 상태를 각 컴포넌트가 소유하는데서\n기인된 문제 해결 방안으로 모든 상태를 하나의 스토어(store)에서 관리하도록 만드는 것입니다. 이러한 접근법은\n여러가지 문제를 해결할 수 있습니다. 복잡한 컴포넌트 계층을 위/아래로 탐색하지 않고도 상태를 공유할 수 있기 때문입니다.\n대표적인 상태 관리 라이브러리로 "),a("router-link",{attrs:{to:"/guidebook/rd-redux.html"}},[t._v("Redux")]),t._v(", "),a("a",{attrs:{href:"https://mobx.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mobx"),a("OutboundLink")],1),t._v(", "),a("a",{attrs:{href:"https://yamoo9.github.io/vuex/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuex"),a("OutboundLink")],1),t._v(" 등이 있습니다.")],1),t._v(" "),a("base-img",{staticStyle:{"max-width":"600px","margin-left":"0"},attrs:{src:"store-pattern.jpg"}})],1)},[],!1,null,null,null);s.default=e.exports}}]);